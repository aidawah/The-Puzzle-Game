import{f as te}from"../chunks/DbPWqESC.js";import"../chunks/CWj6FrbW.js";import{i as se}from"../chunks/bcjE7qSF.js";import{p as ae,am as oe,an as re,ao as le,a as w,b as ne,w as $,ap as j,V as p,f as C,c as u,r as i,s as g,aq as E,C as n,ar as G,e as f,as as ie,a2 as m}from"../chunks/BromKYUi.js";import{i as ce}from"../chunks/CMZlLvFG.js";import{e as ue,i as de}from"../chunks/YPtJtd91.js";import{s as pe}from"../chunks/1skG1GoD.js";import{p as ge}from"../chunks/rFQjRFAn.js";import{s as fe,a as N}from"../chunks/Dr_4v5UM.js";import{g as V}from"../chunks/BE_MBlDK.js";const me=async()=>{const b=await te();return{puzzle:b.length?b[Math.floor(Math.random()*b.length)]:null}};console.log("hello");const Me=Object.freeze(Object.defineProperty({__proto__:null,load:me},Symbol.toStringTag,{value:"Module"}));var be=C("<button> </button>"),ve=C('<main class="min-h-screen bg-gray-900 text-gray-100 p-4 md:p-8"><div class="mx-auto max-w-4xl space-y-8"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0"><h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center"> </h1> <div class="flex justify-center sm:justify-end space-x-2"><button class="w-full sm:w-auto rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-500">All Puzzles</button> <a href="/my-puzzles" class="hover:underline px-2 py-1 rounded hover:bg-gray-700">My Puzzles</a> <button class="w-full sm:w-auto rounded bg-green-600 px-4 py-2 text-white hover:bg-green-500">Create</button></div></div> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4"></div> <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4"><button class="w-full sm:w-auto rounded bg-blue-600 px-6 py-2 text-white hover:bg-blue-500">Shuffle</button> <button class="w-full sm:w-auto rounded bg-yellow-500 px-6 py-2 text-gray-900 hover:bg-yellow-400">Clear</button> <button class="w-full sm:w-auto rounded bg-green-600 px-6 py-2 text-white hover:bg-green-500">Submit</button></div> <div class="text-center pt-4"><a href="/create" class="inline-block rounded bg-indigo-600 px-6 py-2 text-white shadow hover:bg-indigo-500">Create a Puzzle</a></div></div></main>'),xe=C('<main class="flex min-h-screen items-center justify-center bg-gray-900 text-gray-100 p-4"><div class="text-center space-y-4"><p>No puzzle loaded.</p> <a href="/create" class="inline-block rounded bg-indigo-600 px-6 py-2 text-white hover:bg-indigo-500">Create one →</a></div></main>');function Oe(b,z){ae(z,!1);const[M,B]=fe(),D=()=>N(c,"$tiles",M),O=()=>N(y,"$selected",M);let o=ge(z,"data",8);const c=$([]),y=$(new Set),_=$([]),H=["bg-yellow-600","bg-green-600","bg-blue-600","bg-purple-600"],P=e=>e.map(s=>({v:s,r:Math.random()})).sort((s,t)=>s.r-t.r).map(({v:s})=>s);function I(e){const t=m(_).indexOf(e);return t>=0?H[t]:""}oe(()=>{if(!o().puzzle)return;const e=o().puzzle.groups.flatMap((s,t)=>s.answers.map(a=>({word:a,group:t,locked:!1})));c.set(P(e))});function J(e){const s=m(c).find(t=>t.word===e);s!=null&&s.locked||y.update(t=>(t.has(e)?t.delete(e):t.size<4&&t.add(e),new Set(t)))}function A(){y.set(new Set)}function q(){const e=m(c),s=e.filter(a=>a.locked),t=P(e.filter(a=>!a.locked));c.set([...s,...t])}function K(){var x;const e=Array.from(m(y));if(e.length!==4)return alert("Please select exactly 4 words.");const t=m(c).filter(r=>e.includes(r.word)),a=(x=t[0])==null?void 0:x.group,v=t.length===4&&t.every(r=>r.group===a),k=m(_).includes(a??-1);v&&!k&&o().puzzle?(c.update(r=>r.map(h=>h.group===a?{...h,locked:!0}:h)),_.update(r=>[...r,a]),alert(`✅ ${o().puzzle.groups[a].description}`),A(),q()):alert("❌ Try again.")}se();var F=re(),Q=le(F);{var U=e=>{var s=ve(),t=u(s),a=u(t),v=u(a),k=u(v);i(v);var x=g(v,2),r=u(x),h=g(r,4);i(x),i(a);var S=g(a,2);ue(S,5,D,de,(Y,l)=>{var d=be(),Z=u(d,!0);i(d),E(ee=>{pe(d,1,ee),d.disabled=(n(l),p(()=>n(l).locked)),G(Z,(n(l),p(()=>n(l).word)))},[()=>(n(l),O(),p(()=>`aspect-square flex items-center justify-center rounded-lg transition-colors duration-200
                  ${n(l).locked?`${I(n(l).group)} text-white`:O().has(n(l).word)?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700"}`))]),f("click",d,()=>J(n(l).word)),w(Y,d)}),i(S);var L=g(S,2),R=u(L),T=g(R,2),X=g(T,2);i(L),ie(2),i(t),i(s),E(()=>G(k,`${j(o()),p(()=>o().puzzle.title)??""} — by ${j(o()),p(()=>o().puzzle.author)??""}`)),f("click",r,()=>V("/puzzles")),f("click",h,()=>V("/create")),f("click",R,q),f("click",T,A),f("click",X,K),w(e,s)},W=e=>{var s=xe();w(e,s)};ce(Q,e=>{j(o()),p(()=>o().puzzle)?e(U):e(W,!1)})}w(b,F),ne(),B()}export{Oe as component,Me as universal};
