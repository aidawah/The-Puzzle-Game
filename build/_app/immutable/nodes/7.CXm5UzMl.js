import{g as N,d as Q,e as R}from"../chunks/DbPWqESC.js";import{e as U}from"../chunks/C_OcBwNF.js";import"../chunks/CWj6FrbW.js";import{i as W}from"../chunks/bcjE7qSF.js";import{p as X,am as Y,f as B,aq as C,e as i,a as q,b as Z,s as u,c as o,w as A,r as a,ar as O,V as y,ap as T,a2 as tt,C as d}from"../chunks/BromKYUi.js";import{e as et,i as st}from"../chunks/YPtJtd91.js";import{s as at}from"../chunks/1skG1GoD.js";import{p as ot}from"../chunks/rFQjRFAn.js";import{s as rt,a as D}from"../chunks/Dr_4v5UM.js";import{g as V}from"../chunks/CqC3xayY.js";const lt=async({params:p})=>{const r=await N(Q(R,"puzzles",p.id));if(!r.exists())throw U(404,"Puzzle not found");const l=r.data();return{puzzle:{id:r.id,title:l.title,author:l.author,groups:l.groups}}},ht=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"}));var nt=B("<button> </button>"),it=B('<main class="min-h-screen bg-gray-900 text-gray-100 p-4 md:p-8"><div class="mx-auto max-w-4xl space-y-6"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0"><h1 class="text-2xl md:text-3xl font-bold text-center"> </h1> <div class="flex justify-center sm:justify-end space-x-2"><button class="rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-500 w-full sm:w-auto">All Puzzles</button> <button class="rounded bg-green-600 px-4 py-2 text-white hover:bg-green-500 w-full sm:w-auto">Create Puzzle</button></div></div> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4"></div> <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4"><button class="w-full sm:w-auto rounded bg-blue-600 px-6 py-2 text-white hover:bg-blue-500">Shuffle</button> <button class="w-full sm:w-auto rounded bg-yellow-400 px-6 py-2 text-gray-900 hover:bg-yellow-300">Clear</button> <button class="w-full sm:w-auto rounded bg-green-600 px-6 py-2 text-white hover:bg-green-500">Submit</button></div></div></main>');function yt(p,r){X(r,!1);const[l,E]=rt(),F=()=>D(m,"$board",l),w=()=>D(c,"$selected",l);let n=ot(r,"data",8);const m=A([]),c=A(new Set),_=e=>e.map(t=>({v:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({v:t})=>t);Y(()=>{const e=n().puzzle.groups.flatMap(t=>t.answers);m.set(_(e))});function G(e){c.update(t=>(t.has(e)?t.delete(e):t.size<4&&t.add(e),new Set(t)))}function f(){c.set(new Set)}function z(){m.update(e=>_(e)),f()}function H(){const e=Array.from(tt(c));if(e.length!==4){alert("Please select exactly 4 words.");return}const t=n().puzzle.groups.find(s=>e.every(h=>s.answers.includes(h)));alert(t?`✅ ${t.description}`:"❌ Try again."),f(),z()}W();var g=it(),$=o(g),b=o($),v=o(b),I=o(v);a(v);var j=u(v,2),k=o(j),J=u(k,2);a(j),a(b);var x=u(b,2);et(x,5,F,st,(e,t)=>{var s=nt(),h=o(s,!0);a(s),C(L=>{at(s,1,`aspect-square flex items-center justify-center rounded-lg transition-colors duration-200
                 ${L??""}`),O(h,d(t))},[()=>(w(),d(t),y(()=>w().has(d(t))?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700"))]),i("click",s,()=>G(d(t))),q(e,s)}),a(x);var S=u(x,2),P=o(S),M=u(P,2),K=u(M,2);a(S),a($),a(g),C(()=>O(I,`${T(n()),y(()=>n().puzzle.title)??""} — by ${T(n()),y(()=>n().puzzle.author)??""}`)),i("click",k,()=>V("/puzzles")),i("click",J,()=>V("/create")),i("click",P,z),i("click",M,f),i("click",K,H),q(p,g),Z(),E()}export{yt as component,ht as universal};
