import{f as X}from"../chunks/NftsHrXe.js";import"../chunks/CWj6FrbW.js";import{i as Y}from"../chunks/bcjE7qSF.js";import{p as Z,am as ee,an as te,ao as ae,a as d,b as se,w as O,ap as h,V as m,f as y,c as r,r as s,s as l,aq as T,C as f,ar as N,e as n,as as re,a2 as oe}from"../chunks/BromKYUi.js";import{i as le}from"../chunks/CMZlLvFG.js";import{e as ne,i as ie}from"../chunks/YPtJtd91.js";import{s as ce}from"../chunks/1skG1GoD.js";import{p as ue}from"../chunks/rFQjRFAn.js";import{s as pe,a as V}from"../chunks/Dr_4v5UM.js";import{g as B}from"../chunks/BqZN-OA-.js";const de=async()=>({puzzle:(await X())[0]??null}),je=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));var me=y("<button> </button>"),fe=y('<main class="min-h-screen bg-gray-900 text-gray-100 p-4 md:p-8"><div class="mx-auto max-w-4xl space-y-8"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0"><h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center"> </h1> <div class="flex justify-center sm:justify-end space-x-2"><button class="w-full sm:w-auto rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-500">All Puzzles</button> <a href="/my-puzzles" class="hover:underline px-2 py-1 rounded hover:bg-gray-700">My Puzzles</a> <button class="w-full sm:w-auto rounded bg-green-600 px-4 py-2 text-white hover:bg-green-500">Create</button></div></div> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4"></div> <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4"><button class="w-full sm:w-auto rounded bg-blue-600 px-6 py-2 text-white hover:bg-blue-500">Shuffle</button> <button class="w-full sm:w-auto rounded bg-yellow-500 px-6 py-2 text-gray-900 hover:bg-yellow-400">Clear</button> <button class="w-full sm:w-auto rounded bg-green-600 px-6 py-2 text-white hover:bg-green-500">Submit</button></div> <div class="text-center pt-4"><a href="/create" class="inline-block rounded bg-indigo-600 px-6 py-2 text-white shadow hover:bg-indigo-500">Create a Puzzle</a></div></div></main>'),ge=y('<main class="flex min-h-screen items-center justify-center bg-gray-900 text-gray-100 p-4"><div class="text-center space-y-4"><p>No puzzle loaded.</p> <a href="/create" class="inline-block rounded bg-indigo-600 px-6 py-2 text-white hover:bg-indigo-500">Create one →</a></div></main>');function Se(z,_){Z(_,!1);const[w,D]=pe(),E=()=>V(g,"$board",w),k=()=>V(u,"$selected",w);let a=ue(_,"data",8);const g=O([]),u=O(new Set),$=t=>t.map(e=>({v:e,sort:Math.random()})).sort((e,o)=>e.sort-o.sort).map(({v:e})=>e);ee(()=>{if(a().puzzle){const t=a().puzzle.groups.flatMap(e=>e.answers);g.set($(t))}});function F(t){u.update(e=>(e.has(t)?e.delete(t):e.size<4&&e.add(t),new Set(e)))}function b(){u.set(new Set)}function j(){g.update(t=>$(t)),b()}function G(){const t=Array.from(oe(u));if(t.length!==4)return alert("Please select exactly 4 words.");const e=a().puzzle.groups.find(o=>t.every(i=>o.answers.includes(i)));alert(e?`✅ Correct: ${e.description}`:"❌ Try again."),b(),j()}Y();var S=te(),H=ae(S);{var I=t=>{var e=fe(),o=r(e),i=r(o),v=r(i),K=r(v);s(v);var C=l(v,2),P=r(C),L=l(P,4);s(C),s(i);var x=l(i,2);ne(x,5,E,ie,(R,p)=>{var c=me(),U=r(c,!0);s(c),T(W=>{ce(c,1,`aspect-square flex items-center justify-center rounded-lg transition-colors duration-200
                 ${W??""}`),N(U,f(p))},[()=>(k(),f(p),m(()=>k().has(f(p))?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700"))]),n("click",c,()=>F(f(p))),d(R,c)}),s(x);var M=l(x,2),q=r(M),A=l(q,2),Q=l(A,2);s(M),re(2),s(o),s(e),T(()=>N(K,`${h(a()),m(()=>a().puzzle.title)??""} — by ${h(a()),m(()=>a().puzzle.author)??""}`)),n("click",P,()=>B("/puzzles")),n("click",L,()=>B("/create")),n("click",q,j),n("click",A,b),n("click",Q,G),d(t,e)},J=t=>{var e=ge();d(t,e)};le(H,t=>{h(a()),m(()=>a().puzzle)?t(I):t(J,!1)})}d(z,S),se(),D()}export{Se as component,je as universal};
