import{g as N,d as Q,e as R}from"../chunks/CYy9vh4R.js";import{e as U}from"../chunks/BwaULA4Z.js";import"../chunks/CWj6FrbW.js";import{i as V}from"../chunks/BntYITJV.js";import{p as W,aj as X,f as B,an as A,e as i,a as q,b as Y,s as u,c as o,w as C,r as a,ao as D,M as y,am as O,Z as tt,D as et,A as d}from"../chunks/DfyscB-W.js";import{e as st,i as at}from"../chunks/DIZefaZn.js";import{s as ot}from"../chunks/D6z9HOLW.js";import{p as rt}from"../chunks/Cpirqydb.js";import{s as lt,a as T}from"../chunks/Db9_vGeA.js";import{g as Z}from"../chunks/8teCs59O.js";const nt=async({params:p})=>{const r=await N(Q(R,"puzzles",p.id));if(!r.exists())throw U(404,"Puzzle not found");const l=r.data();return{puzzle:{id:r.id,title:l.title,author:l.author,groups:l.groups}}},yt=Object.freeze(Object.defineProperty({__proto__:null,load:nt},Symbol.toStringTag,{value:"Module"}));var it=B("<button> </button>"),ut=B('<main class="min-h-screen bg-gray-900 text-gray-100 p-4 md:p-8"><div class="mx-auto max-w-4xl space-y-6"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0"><h1 class="text-2xl md:text-3xl font-bold text-center"> </h1> <div class="flex justify-center sm:justify-end space-x-2"><button class="rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-500 w-full sm:w-auto">All Puzzles</button> <button class="rounded bg-green-600 px-4 py-2 text-white hover:bg-green-500 w-full sm:w-auto">Create Puzzle</button></div></div> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4"></div> <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4"><button class="w-full sm:w-auto rounded bg-blue-600 px-6 py-2 text-white hover:bg-blue-500">Shuffle</button> <button class="w-full sm:w-auto rounded bg-yellow-400 px-6 py-2 text-gray-900 hover:bg-yellow-300">Clear</button> <button class="w-full sm:w-auto rounded bg-green-600 px-6 py-2 text-white hover:bg-green-500">Submit</button></div></div></main>');function _t(p,r){W(r,!1);const[l,E]=lt(),F=()=>T(m,"$board",l),_=()=>T(c,"$selected",l);let n=rt(r,"data",8);const m=C([]),c=C(new Set),w=e=>e.map(t=>({v:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({v:t})=>t);X(()=>{const e=n().puzzle.groups.flatMap(t=>t.answers);m.set(w(e))});function G(e){c.update(t=>(t.has(e)?t.delete(e):t.size<4&&t.add(e),new Set(t)))}function f(){c.set(new Set)}function z(){m.update(e=>w(e)),f()}function H(){const e=Array.from(tt(c));if(e.length!==4){alert("Please select exactly 4 words.");return}const t=n().puzzle.groups.find(s=>e.every(h=>s.answers.includes(h)));alert(t?`✅ ${t.description}`:"❌ Try again."),f(),z()}V();var g=ut(),$=o(g),b=o($),v=o(b),I=o(v);a(v);var j=u(v,2),k=o(j),J=u(k,2);a(j),a(b);var x=u(b,2);st(x,5,F,at,(e,t)=>{var s=it(),h=o(s,!0);a(s),A(L=>{ot(s,1,`aspect-square flex items-center justify-center rounded-lg transition-colors duration-200
                 ${L??""}`),D(h,d(t))},[()=>(_(),d(t),y(()=>_().has(d(t))?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700"))],et),i("click",s,()=>G(d(t))),q(e,s)}),a(x);var S=u(x,2),M=o(S),P=u(M,2),K=u(P,2);a(S),a($),a(g),A(()=>D(I,`${O(n()),y(()=>n().puzzle.title)??""} — by ${O(n()),y(()=>n().puzzle.author)??""}`)),i("click",k,()=>Z("/puzzles")),i("click",J,()=>Z("/create")),i("click",M,z),i("click",P,f),i("click",K,H),q(p,g),Y(),E()}export{_t as component,yt as universal};
